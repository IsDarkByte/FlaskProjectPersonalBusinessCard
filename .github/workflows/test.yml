name: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Flask-–ø—Ä–æ–µ–∫—Ç–∞

# –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å CI
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
jobs:
  test:
    runs-on: ubuntu-latest  # GitHub –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Linux –¥–ª—è –∑–∞–ø—É—Å–∫–∞

    steps:
      - name: üîÅ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
        uses: actions/checkout@v3

      - name: üêç –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'  # –£–∫–∞–∂–∏ –≤–µ—Ä—Å–∏—é, –∫–∞–∫ —É —Ç–µ–±—è –ª–æ–∫–∞–ª—å–Ω–æ

      - name: üß™ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å pytest
        run: |
          pytest
